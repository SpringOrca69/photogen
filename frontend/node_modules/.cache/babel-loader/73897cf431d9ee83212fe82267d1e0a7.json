{"ast":null,"code":"var _jsxFileName = \"/Users/bharath/Desktop/OOP Grp Proj React(JS) & SpringBoot(Java)/photogen/frontend/src/components/CropResize.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Cropper } from 'react-cropper';\nimport 'cropperjs/dist/cropper.css';\nimport './CropResize.css';\nfunction CropResize() {\n  const [images, setImages] = useState([]);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [cropper, setCropper] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  useEffect(() => {\n    const storedImages = sessionStorage.getItem('uploadedImages');\n    if (storedImages) {\n      const parsedImages = JSON.parse(storedImages);\n      setImages(parsedImages);\n      if (parsedImages.length > 0) {\n        setSelectedImage(parsedImages[0]);\n      }\n    }\n  }, []);\n  const handleCrop = () => {\n    if (cropper) {\n      const croppedCanvas = cropper.getCroppedCanvas();\n      const croppedImage = croppedCanvas.toDataURL();\n\n      // Update the selected image with the cropped version\n      const updatedImages = images.map(img => img === selectedImage ? {\n        ...img,\n        url: croppedImage\n      } : img);\n      setImages(updatedImages);\n      setSelectedImage({\n        ...selectedImage,\n        url: croppedImage\n      });\n      sessionStorage.setItem('uploadedImages', JSON.stringify(updatedImages));\n      setIsEditing(false);\n    }\n  };\n  const handleRotate = degrees => {\n    if (cropper) {\n      cropper.rotate(degrees);\n    }\n  };\n  if (images.length === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"crop-resize-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"no-images\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }, \"No Images Available\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }, \"Please upload some images first\")));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"crop-resize-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"editor-main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, selectedImage && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image-workspace\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, isEditing ? /*#__PURE__*/React.createElement(Cropper, {\n    src: selectedImage.url,\n    style: {\n      height: '100%',\n      width: '100%'\n    },\n    initialAspectRatio: 16 / 9,\n    guides: true,\n    onInitialized: instance => setCropper(instance),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    src: selectedImage.url,\n    alt: selectedImage.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"editor-controls\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"controls-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, \"Crop & Resize Controls\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: `edit-button ${isEditing ? 'active' : ''}`,\n    onClick: () => setIsEditing(!isEditing),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, isEditing ? 'Cancel' : 'Edit Image')), isEditing && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"control-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleRotate(-90),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, \"Rotate Left\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleRotate(90),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, \"Rotate Right\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"primary-button\",\n    onClick: handleCrop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  }, \"Apply Crop\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image-sidebar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, images.map((image, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: `thumbnail ${selectedImage === image ? 'selected' : ''}`,\n    onClick: () => {\n      setSelectedImage(image);\n      setIsEditing(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image.url,\n    alt: image.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  })))));\n}\nexport default CropResize;","map":{"version":3,"names":["React","useState","useEffect","Cropper","CropResize","images","setImages","selectedImage","setSelectedImage","cropper","setCropper","isEditing","setIsEditing","storedImages","sessionStorage","getItem","parsedImages","JSON","parse","length","handleCrop","croppedCanvas","getCroppedCanvas","croppedImage","toDataURL","updatedImages","map","img","url","setItem","stringify","handleRotate","degrees","rotate","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","src","style","height","width","initialAspectRatio","guides","onInitialized","instance","alt","name","onClick","image","index","key"],"sources":["/Users/bharath/Desktop/OOP Grp Proj React(JS) & SpringBoot(Java)/photogen/frontend/src/components/CropResize.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Cropper } from 'react-cropper';\nimport 'cropperjs/dist/cropper.css';\nimport './CropResize.css';\n\nfunction CropResize() {\n  const [images, setImages] = useState([]);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [cropper, setCropper] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n\n  useEffect(() => {\n    const storedImages = sessionStorage.getItem('uploadedImages');\n    if (storedImages) {\n      const parsedImages = JSON.parse(storedImages);\n      setImages(parsedImages);\n      if (parsedImages.length > 0) {\n        setSelectedImage(parsedImages[0]);\n      }\n    }\n  }, []);\n\n  const handleCrop = () => {\n    if (cropper) {\n      const croppedCanvas = cropper.getCroppedCanvas();\n      const croppedImage = croppedCanvas.toDataURL();\n      \n      // Update the selected image with the cropped version\n      const updatedImages = images.map(img => \n        img === selectedImage \n          ? { ...img, url: croppedImage }\n          : img\n      );\n      \n      setImages(updatedImages);\n      setSelectedImage({ ...selectedImage, url: croppedImage });\n      sessionStorage.setItem('uploadedImages', JSON.stringify(updatedImages));\n      setIsEditing(false);\n    }\n  };\n\n  const handleRotate = (degrees) => {\n    if (cropper) {\n      cropper.rotate(degrees);\n    }\n  };\n\n  if (images.length === 0) {\n    return (\n      <div className=\"crop-resize-container\">\n        <div className=\"no-images\">\n          <h3>No Images Available</h3>\n          <p>Please upload some images first</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"crop-resize-container\">\n      <div className=\"editor-main\">\n        {selectedImage && (\n          <>\n            <div className=\"image-workspace\">\n              {isEditing ? (\n                <Cropper\n                  src={selectedImage.url}\n                  style={{ height: '100%', width: '100%' }}\n                  initialAspectRatio={16 / 9}\n                  guides={true}\n                  onInitialized={(instance) => setCropper(instance)}\n                />\n              ) : (\n                <img src={selectedImage.url} alt={selectedImage.name} />\n              )}\n            </div>\n            <div className=\"editor-controls\">\n              <div className=\"controls-header\">\n                <h3>Crop & Resize Controls</h3>\n                <button \n                  className={`edit-button ${isEditing ? 'active' : ''}`}\n                  onClick={() => setIsEditing(!isEditing)}\n                >\n                  {isEditing ? 'Cancel' : 'Edit Image'}\n                </button>\n              </div>\n              {isEditing && (\n                <div className=\"control-buttons\">\n                  <button onClick={() => handleRotate(-90)}>\n                    Rotate Left\n                  </button>\n                  <button onClick={() => handleRotate(90)}>\n                    Rotate Right\n                  </button>\n                  <button className=\"primary-button\" onClick={handleCrop}>\n                    Apply Crop\n                  </button>\n                </div>\n              )}\n            </div>\n          </>\n        )}\n      </div>\n      <div className=\"image-sidebar\">\n        {images.map((image, index) => (\n          <div \n            key={index}\n            className={`thumbnail ${selectedImage === image ? 'selected' : ''}`}\n            onClick={() => {\n              setSelectedImage(image);\n              setIsEditing(false);\n            }}\n          >\n            <img src={image.url} alt={image.name} />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default CropResize;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}