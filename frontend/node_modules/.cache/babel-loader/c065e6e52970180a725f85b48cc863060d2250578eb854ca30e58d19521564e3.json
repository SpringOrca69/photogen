{"ast":null,"code":"import React,{useState}from'react';import'./Upload.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Upload(_ref){let{onNext}=_ref;const[files,setFiles]=useState([]);const[previews,setPreviews]=useState([]);const handleFileSelect=event=>{const selectedFiles=Array.from(event.target.files);setFiles(selectedFiles);createPreviews(selectedFiles);};const handleDragOver=event=>{event.preventDefault();event.currentTarget.classList.add('drag-over');};const handleDragLeave=event=>{event.preventDefault();event.currentTarget.classList.remove('drag-over');};const handleDrop=event=>{event.preventDefault();event.currentTarget.classList.remove('drag-over');const droppedFiles=Array.from(event.dataTransfer.files);setFiles(droppedFiles);createPreviews(droppedFiles);};const createPreviews=selectedFiles=>{const newPreviews=selectedFiles.map(file=>({url:URL.createObjectURL(file),name:file.name,file:file}));setPreviews(prevPreviews=>{// Revoke old URLs to prevent memory leaks\nprevPreviews.forEach(preview=>URL.revokeObjectURL(preview.url));return newPreviews;});};const handleDelete=indexToDelete=>{URL.revokeObjectURL(previews[indexToDelete].url);setPreviews(prevPreviews=>prevPreviews.filter((_,index)=>index!==indexToDelete));setFiles(prevFiles=>prevFiles.filter((_,index)=>index!==indexToDelete));};const handleNextClick=()=>{const imageData=previews.map(preview=>({url:preview.url,name:preview.name}));sessionStorage.setItem('uploadedImages',JSON.stringify(imageData));onNext('Crop & Resize');};return/*#__PURE__*/_jsxs(\"div\",{className:\"upload-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upload-area\",onDragOver:handleDragOver,onDragLeave:handleDragLeave,onDrop:handleDrop,children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,accept:\"image/*\",onChange:handleFileSelect,className:\"file-input\",id:\"file-input\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"file-input\",className:\"upload-label\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"upload-icon\",children:\"\\uD83D\\uDCC1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-text\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Drop your images here\"}),/*#__PURE__*/_jsx(\"p\",{children:\"or click to browse\"})]})]})]}),previews.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"preview-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Selected Images\"}),/*#__PURE__*/_jsx(\"div\",{className:\"preview-grid\",children:previews.map((preview,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"preview-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:preview.url,alt:preview.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"preview-name\",children:preview.name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(index),className:\"delete-button\",children:\"\\xD7\"})]})]},index))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextClick,className:\"next-button\",disabled:previews.length===0,children:\"Continue to Edit\"})]})]});}export default Upload;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Upload","_ref","onNext","files","setFiles","previews","setPreviews","handleFileSelect","event","selectedFiles","Array","from","target","createPreviews","handleDragOver","preventDefault","currentTarget","classList","add","handleDragLeave","remove","handleDrop","droppedFiles","dataTransfer","newPreviews","map","file","url","URL","createObjectURL","name","prevPreviews","forEach","preview","revokeObjectURL","handleDelete","indexToDelete","filter","_","index","prevFiles","handleNextClick","imageData","sessionStorage","setItem","JSON","stringify","className","children","onDragOver","onDragLeave","onDrop","type","multiple","accept","onChange","id","htmlFor","length","src","alt","onClick","disabled"],"sources":["/Users/bharath/Downloads/OOP Grp Proj React(JS) & SpringBoot(Java)/photogen/frontend/src/components/Upload.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './Upload.css';\n\nfunction Upload({ onNext }) {\n  const [files, setFiles] = useState([]);\n  const [previews, setPreviews] = useState([]);\n\n  const handleFileSelect = (event) => {\n    const selectedFiles = Array.from(event.target.files);\n    setFiles(selectedFiles);\n    createPreviews(selectedFiles);\n  };\n\n  const handleDragOver = (event) => {\n    event.preventDefault();\n    event.currentTarget.classList.add('drag-over');\n  };\n\n  const handleDragLeave = (event) => {\n    event.preventDefault();\n    event.currentTarget.classList.remove('drag-over');\n  };\n\n  const handleDrop = (event) => {\n    event.preventDefault();\n    event.currentTarget.classList.remove('drag-over');\n    const droppedFiles = Array.from(event.dataTransfer.files);\n    setFiles(droppedFiles);\n    createPreviews(droppedFiles);\n  };\n\n  const createPreviews = (selectedFiles) => {\n    const newPreviews = selectedFiles.map(file => ({\n      url: URL.createObjectURL(file),\n      name: file.name,\n      file: file\n    }));\n    setPreviews(prevPreviews => {\n      // Revoke old URLs to prevent memory leaks\n      prevPreviews.forEach(preview => URL.revokeObjectURL(preview.url));\n      return newPreviews;\n    });\n  };\n\n  const handleDelete = (indexToDelete) => {\n    URL.revokeObjectURL(previews[indexToDelete].url);\n    \n    setPreviews(prevPreviews => \n      prevPreviews.filter((_, index) => index !== indexToDelete)\n    );\n    setFiles(prevFiles => \n      prevFiles.filter((_, index) => index !== indexToDelete)\n    );\n  };\n\n  const handleNextClick = () => {\n    const imageData = previews.map(preview => ({\n      url: preview.url,\n      name: preview.name\n    }));\n    sessionStorage.setItem('uploadedImages', JSON.stringify(imageData));\n    onNext('Crop & Resize');\n  };\n\n  return (\n    <div className=\"upload-container\">\n      <div \n        className=\"upload-area\"\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n        onDrop={handleDrop}\n      >\n        <input\n          type=\"file\"\n          multiple\n          accept=\"image/*\"\n          onChange={handleFileSelect}\n          className=\"file-input\"\n          id=\"file-input\"\n        />\n        <label htmlFor=\"file-input\" className=\"upload-label\">\n          <div className=\"upload-icon\">üìÅ</div>\n          <div className=\"upload-text\">\n            <h3>Drop your images here</h3>\n            <p>or click to browse</p>\n          </div>\n        </label>\n      </div>\n\n      {previews.length > 0 && (\n        <div className=\"preview-section\">\n          <h3>Selected Images</h3>\n          <div className=\"preview-grid\">\n            {previews.map((preview, index) => (\n              <div key={index} className=\"preview-card\">\n                <img src={preview.url} alt={preview.name} />\n                <div className=\"preview-info\">\n                  <span className=\"preview-name\">{preview.name}</span>\n                  <button \n                    onClick={() => handleDelete(index)}\n                    className=\"delete-button\"\n                  >\n                    √ó\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n          <button \n            onClick={handleNextClick}\n            className=\"next-button\"\n            disabled={previews.length === 0}\n          >\n            Continue to Edit\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Upload;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}