{"ast":null,"code":"var _jsxFileName = \"/Users/bharath/Desktop/OOP Grp Proj React(JS) & SpringBoot(Java)/photogen/frontend/src/components/Upload.js\";\nimport React, { useState } from 'react';\nimport './Upload.css';\nfunction Upload({\n  onNext\n}) {\n  const [files, setFiles] = useState([]);\n  const [previews, setPreviews] = useState([]);\n  const handleFileSelect = event => {\n    const selectedFiles = Array.from(event.target.files);\n    setFiles(selectedFiles);\n    createPreviews(selectedFiles);\n  };\n  const handleDragOver = event => {\n    event.preventDefault();\n  };\n  const handleDrop = event => {\n    event.preventDefault();\n    const droppedFiles = Array.from(event.dataTransfer.files);\n    setFiles(droppedFiles);\n    createPreviews(droppedFiles);\n  };\n  const createPreviews = selectedFiles => {\n    const newPreviews = selectedFiles.map(file => ({\n      url: URL.createObjectURL(file),\n      name: file.name,\n      file: file\n    }));\n    setPreviews(newPreviews);\n  };\n  const handleDelete = indexToDelete => {\n    // Revoke the URL to prevent memory leaks\n    URL.revokeObjectURL(previews[indexToDelete].url);\n\n    // Remove the file from both arrays\n    const newFiles = files.filter((_, index) => index !== indexToDelete);\n    const newPreviews = previews.filter((_, index) => index !== indexToDelete);\n    setFiles(newFiles);\n    setPreviews(newPreviews);\n  };\n  const handleNextClick = () => {\n    // Store images in sessionStorage\n    const imageData = previews.map(preview => ({\n      url: preview.url,\n      name: preview.name\n    }));\n    sessionStorage.setItem('uploadedImages', JSON.stringify(imageData));\n    onNext('Crop & Resize');\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-area\",\n    onDragOver: handleDragOver,\n    onDrop: handleDrop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    multiple: true,\n    accept: \"image/*\",\n    onChange: handleFileSelect,\n    className: \"file-input\",\n    id: \"file-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"file-input\",\n    className: \"upload-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"\\uD83D\\uDCE4\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Drag and drop your photos here or click to browse\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"upload-hint\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"Supports multiple images\"))), previews.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"preview-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"Selected Photos (\", previews.length, \")\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"preview-grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, previews.map((preview, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"preview-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"delete-button\",\n    onClick: () => handleDelete(index),\n    \"aria-label\": \"Delete photo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: preview.url,\n    alt: preview.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, preview.name))))), previews.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"next-button\",\n    onClick: handleNextClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, \"Next: Crop & Resize\")));\n}\nexport default Upload;","map":{"version":3,"names":["React","useState","Upload","onNext","files","setFiles","previews","setPreviews","handleFileSelect","event","selectedFiles","Array","from","target","createPreviews","handleDragOver","preventDefault","handleDrop","droppedFiles","dataTransfer","newPreviews","map","file","url","URL","createObjectURL","name","handleDelete","indexToDelete","revokeObjectURL","newFiles","filter","_","index","handleNextClick","imageData","preview","sessionStorage","setItem","JSON","stringify","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onDragOver","onDrop","type","multiple","accept","onChange","id","htmlFor","length","key","onClick","src","alt"],"sources":["/Users/bharath/Desktop/OOP Grp Proj React(JS) & SpringBoot(Java)/photogen/frontend/src/components/Upload.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './Upload.css';\n\nfunction Upload({ onNext }) {\n  const [files, setFiles] = useState([]);\n  const [previews, setPreviews] = useState([]);\n\n  const handleFileSelect = (event) => {\n    const selectedFiles = Array.from(event.target.files);\n    setFiles(selectedFiles);\n    createPreviews(selectedFiles);\n  };\n\n  const handleDragOver = (event) => {\n    event.preventDefault();\n  };\n\n  const handleDrop = (event) => {\n    event.preventDefault();\n    const droppedFiles = Array.from(event.dataTransfer.files);\n    setFiles(droppedFiles);\n    createPreviews(droppedFiles);\n  };\n\n  const createPreviews = (selectedFiles) => {\n    const newPreviews = selectedFiles.map(file => ({\n      url: URL.createObjectURL(file),\n      name: file.name,\n      file: file\n    }));\n    setPreviews(newPreviews);\n  };\n\n  const handleDelete = (indexToDelete) => {\n    // Revoke the URL to prevent memory leaks\n    URL.revokeObjectURL(previews[indexToDelete].url);\n    \n    // Remove the file from both arrays\n    const newFiles = files.filter((_, index) => index !== indexToDelete);\n    const newPreviews = previews.filter((_, index) => index !== indexToDelete);\n    \n    setFiles(newFiles);\n    setPreviews(newPreviews);\n  };\n\n  const handleNextClick = () => {\n    // Store images in sessionStorage\n    const imageData = previews.map(preview => ({\n      url: preview.url,\n      name: preview.name\n    }));\n    sessionStorage.setItem('uploadedImages', JSON.stringify(imageData));\n    onNext('Crop & Resize');\n  };\n\n  return (\n    <div className=\"upload-container\">\n      <div \n        className=\"upload-area\"\n        onDragOver={handleDragOver}\n        onDrop={handleDrop}\n      >\n        <input\n          type=\"file\"\n          multiple\n          accept=\"image/*\"\n          onChange={handleFileSelect}\n          className=\"file-input\"\n          id=\"file-input\"\n        />\n        <label htmlFor=\"file-input\" className=\"upload-label\">\n          <div className=\"upload-icon\">ðŸ“¤</div>\n          <p>Drag and drop your photos here or click to browse</p>\n          <span className=\"upload-hint\">Supports multiple images</span>\n        </label>\n      </div>\n\n      {previews.length > 0 && (\n        <div className=\"preview-container\">\n          <h3>Selected Photos ({previews.length})</h3>\n          <div className=\"preview-grid\">\n            {previews.map((preview, index) => (\n              <div key={index} className=\"preview-item\">\n                <button \n                  className=\"delete-button\" \n                  onClick={() => handleDelete(index)}\n                  aria-label=\"Delete photo\"\n                >\n                  Ã—\n                </button>\n                <img src={preview.url} alt={preview.name} />\n                <p>{preview.name}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {previews.length > 0 && (\n        <div className=\"upload-actions\">\n          <button \n            className=\"next-button\"\n            onClick={handleNextClick}\n          >\n            Next: Crop & Resize\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Upload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}